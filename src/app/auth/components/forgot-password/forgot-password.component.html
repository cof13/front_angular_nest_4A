<p-toast></p-toast>
<!-- Spinner de carga --> 
<div *ngIf="loading" class="loader-overlay"> <p-progressSpinner [style]="{'width': '50px', 'height': '50px'}"></p-progressSpinner> </div>
<div class="surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden">
  <div class="flex flex-column align-items-center justify-content-center">
    <!-- Logo -->
    <img
      src="assets/layout/images/{{layoutService.config().colorScheme === 'light' ? 'logo-dark' : 'logo-white'}}.svg"
      alt="Logo"
      class="mb-5 w-6rem flex-shrink-0"
    />

    <div
      class="surface-card py-8 px-5 sm:px-8 border-round-3xl shadow-2"
      style="width:90%; max-width:450px;"
    >
      <!-- TÃ­tulo -->
      <div class="text-center mb-5">
        <div class="text-900 text-3xl font-medium mb-3">Forgot Password</div>
        <span class="text-600 font-medium">Enter your details to reset your password</span>
      </div>

      <!-- Formulario -->
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        <!-- Name Field -->
        <div class="mb-4">
          <label for="name" class="block text-900 text-xl font-medium mb-2">Name</label>
          <input
            id="name"
            type="text"
            formControlName="name"
            placeholder="Your Name"
            pInputText
            class="w-full"
            [ngClass]="{'p-invalid': name?.invalid && (name?.dirty || name?.touched)}"
          />
          <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="p-error mt-1">
            <small *ngIf="name?.errors?.['required']">Name is required.</small>
            <small *ngIf="name?.errors?.['pattern']">Name must contain only letters.</small>
          </div>
        </div>

        <!-- Email Field -->
        <div class="mb-4">
          <label for="email" class="block text-900 text-xl font-medium mb-2">Email</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Email address"
            pInputText
            class="w-full"
            [ngClass]="{'p-invalid': email?.invalid && (email?.dirty || email?.touched)}"
          />
          <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="p-error mt-1">
            <small *ngIf="email?.errors?.['required']">Email is required.</small>
            <small *ngIf="email?.errors?.['email']">Enter a valid email address.</small>
          </div>
        </div>

        <!-- Submit Button -->
        <button
          pButton
          label="Reset Password"
          class="w-full p-3 text-xl"
          type="submit"
          [disabled]="!forgotPasswordForm.valid || loading"
        ></button>
      </form>

      <!-- Back to Login Link -->
      <div class="text-center mt-5">
        <a
          [routerLink]="['/auth/login']"
          class="font-medium no-underline text-primary cursor-pointer"
        >
          <i class="pi pi-arrow-left"></i>
          Back to Login
        </a>
      </div>
    </div>
  </div>
</div>
